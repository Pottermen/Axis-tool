<Window x:Class="AxisConfigurator.App.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Axis Camera Configuration Tool" 
        Height="600" 
        Width="1000"
        MinHeight="400"
        MinWidth="600">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Configuration Panel -->
        <GroupBox Grid.Row="0" Header="Configuration" Margin="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="200"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <Label Grid.Column="0" Content="Mode:" VerticalAlignment="Center"/>
                <ComboBox Grid.Column="1" 
                          x:Name="ModeComboBox"
                          SelectedItem="{Binding SelectedMode}"
                          ItemsSource="{Binding AvailableModes}"
                          Margin="5"/>
            </Grid>
        </GroupBox>

        <!-- Control Panel -->
        <GroupBox Grid.Row="1" Header="Controls" Margin="10,0,10,10">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                <Button Content="Start Discovery" 
                        Command="{Binding StartCommand}"
                        Width="120" 
                        Height="30" 
                        Margin="5"/>
                <Button Content="Stop Discovery" 
                        Command="{Binding StopCommand}"
                        Width="120" 
                        Height="30" 
                        Margin="5"/>
                <Button Content="Configure Selected" 
                        Command="{Binding ConfigureCommand}"
                        Width="120" 
                        Height="30" 
                        Margin="5"/>
            </StackPanel>
        </GroupBox>

        <!-- Camera List -->
        <GroupBox Grid.Row="2" Header="Discovered Cameras" Margin="10,0,10,10">
            <DataGrid x:Name="CameraDataGrid"
                      ItemsSource="{Binding Cameras}"
                      SelectedItem="{Binding SelectedCamera}"
                      AutoGenerateColumns="False"
                      CanUserAddRows="False"
                      CanUserDeleteRows="False"
                      CanUserReorderColumns="True"
                      CanUserSortColumns="True"
                      SelectionMode="Single">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="MAC Address" 
                                        Binding="{Binding MacAddress}" 
                                        Width="140" 
                                        IsReadOnly="True"/>
                    <DataGridTextColumn Header="Current IP" 
                                        Binding="{Binding CurrentIpAddress}" 
                                        Width="120" 
                                        IsReadOnly="True"/>
                    <DataGridTextColumn Header="New IP" 
                                        Binding="{Binding NewIpAddress}" 
                                        Width="120"/>
                    <DataGridTextColumn Header="State" 
                                        Binding="{Binding State}" 
                                        Width="100" 
                                        IsReadOnly="True"/>
                    <DataGridTextColumn Header="Model" 
                                        Binding="{Binding Model}" 
                                        Width="120" 
                                        IsReadOnly="True"/>
                    <DataGridTextColumn Header="Last Updated" 
                                        Binding="{Binding LastUpdated, StringFormat='{}{0:HH:mm:ss}'}" 
                                        Width="100" 
                                        IsReadOnly="True"/>
                    <DataGridTextColumn Header="Error" 
                                        Binding="{Binding ErrorMessage}" 
                                        Width="*" 
                                        IsReadOnly="True"/>
                </DataGrid.Columns>
            </DataGrid>
        </GroupBox>

        <!-- Status Bar -->
        <StatusBar Grid.Row="3">
            <StatusBarItem>
                <TextBlock Text="{Binding StatusText}"/>
            </StatusBarItem>
            <StatusBarItem HorizontalAlignment="Right">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Cameras: "/>
                    <TextBlock Text="{Binding Cameras.Count}"/>
                </StackPanel>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>